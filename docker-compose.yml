# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ù…Ù„Ù Docker Compose - ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# ğŸ³ Ù…Ø§ Ù‡Ùˆ DockerØŸ
# Docker = ØªÙ‚Ù†ÙŠØ© Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙÙŠ "Ø­Ø§ÙˆÙŠØ§Øª" Ù…Ø¹Ø²ÙˆÙ„Ø©
# Ø§Ù„Ø­Ø§ÙˆÙŠØ© = Ù†Ø¸Ø§Ù… ØªØ´ØºÙŠÙ„ ØµØºÙŠØ± ÙŠØ­ØªÙˆÙŠ ÙÙ‚Ø· Ø¹Ù„Ù‰ Ù…Ø§ ÙŠØ­ØªØ§Ø¬Ù‡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
#
# ğŸµ Ù…Ø§ Ù‡Ùˆ Docker ComposeØŸ
# Ø£Ø¯Ø§Ø© Ù„ØªØ´ØºÙŠÙ„ Ø¹Ø¯Ø© Ø­Ø§ÙˆÙŠØ§Øª Ù…Ø¹Ø§Ù‹ Ø¨Ø£Ù…Ø± ÙˆØ§Ø­Ø¯
# Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† ØªØ´ØºÙŠÙ„ 5 Ø£ÙˆØ§Ù…Ø± dockerØŒ Ù†Ø´ØºÙ„ Ø£Ù…Ø± ÙˆØ§Ø­Ø¯: docker-compose up
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# docker-compose up -d      # ØªØ´ØºÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©
# docker-compose down       # Ø¥ÙŠÙ‚Ø§Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø¯Ù…Ø§Øª
# docker-compose logs -f    # Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø©
# docker-compose ps         # Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª
# docker-compose restart    # Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Ø¥ØµØ¯Ø§Ø± ØµÙŠØºØ© docker-compose
# Ø§Ù„Ø¥ØµØ¯Ø§Ø± 3.8 ÙŠØ¯Ø¹Ù… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø©
version: '3.8'

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Ø§Ù„Ø®Ø¯Ù…Ø§Øª (Services)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ÙƒÙ„ Ø®Ø¯Ù…Ø© = Ø­Ø§ÙˆÙŠØ© Docker Ù…Ù†ÙØµÙ„Ø©
# Ø§Ù„Ø®Ø¯Ù…Ø§Øª ØªØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø¨Ø¹Ø¶Ù‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©

services:

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ğŸ—„ï¸ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª PostgreSQL
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  #
  # PostgreSQL = Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù„Ø§Ø¦Ù‚ÙŠØ© Ù‚ÙˆÙŠØ©
  # Ù†Ø³ØªØ®Ø¯Ù…Ù‡Ø§ Ù„ØªØ®Ø²ÙŠÙ†: Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†ØŒ Ø§Ù„Ù…ØªØ§Ø¬Ø±ØŒ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ØŒ Ø§Ù„Ø­Ù…Ù„Ø§ØªØŒ Ø¥Ù„Ø®
  #
  postgres:
    # Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©
    # postgres:16-alpine = Ø¥ØµØ¯Ø§Ø± 16 Ø¨Ù†Ø¸Ø§Ù… Alpine Linux (Ø®ÙÙŠÙ ÙˆØ¢Ù…Ù†)
    image: postgres:16-alpine
    
    # Ø§Ø³Ù… Ø§Ù„Ø­Ø§ÙˆÙŠØ© (Ù„Ù„ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø³Ù‡Ù„)
    container_name: rafiq_postgres
    
    # Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    environment:
      # Ø§Ø³Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
      POSTGRES_DB: rafiq_db
      
      # Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
      POSTGRES_USER: rafiq_user
      
      # ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
      # âš ï¸ ØºÙŠÙ‘Ø±Ù‡Ø§ ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬!
      POSTGRES_PASSWORD: rafiq_secret_password
      
      # Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©
      TZ: Asia/Riyadh

    # Ø±Ø¨Ø· Ø§Ù„Ù…Ù†Ø§ÙØ°
    # Ø§Ù„ØµÙŠØºØ©: "Ù…Ù†ÙØ°_Ø§Ù„Ø¬Ù‡Ø§Ø²:Ù…Ù†ÙØ°_Ø§Ù„Ø­Ø§ÙˆÙŠØ©"
    # 5432 = Ø§Ù„Ù…Ù†ÙØ° Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù€ PostgreSQL
    ports:
      - "5432:5432"

    # ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† (Volumes)
    # ØªØ­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø­ØªÙ‰ Ø¨Ø¹Ø¯ Ø­Ø°Ù Ø§Ù„Ø­Ø§ÙˆÙŠØ©
    volumes:
      # Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      - postgres_data:/var/lib/postgresql/data
      
      # Ø³ÙƒØ±Ø¨ØªØ§Øª Ø§Ù„ØªÙ‡ÙŠØ¦Ø© (ØªÙÙ†ÙØ° Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù†Ø¯ Ø£ÙˆÙ„ ØªØ´ØºÙŠÙ„)
      # - ./docker/init-scripts:/docker-entrypoint-initdb.d

    # ÙØ­Øµ Ø§Ù„ØµØ­Ø© (Health Check)
    # Docker ÙŠØªØ­Ù‚Ù‚ Ø¯ÙˆØ±ÙŠØ§Ù‹ Ø£Ù† Ø§Ù„Ø®Ø¯Ù…Ø© ØªØ¹Ù…Ù„
    healthcheck:
      # Ø§Ù„Ø£Ù…Ø± Ù„Ù„ØªØ­Ù‚Ù‚
      test: ["CMD-SHELL", "pg_isready -U rafiq_user -d rafiq_db"]
      # Ø§Ù„ÙØªØ±Ø© Ø¨ÙŠÙ† ÙƒÙ„ ÙØ­Øµ
      interval: 10s
      # Ø§Ù„Ù…Ù‡Ù„Ø© Ø§Ù„Ù‚ØµÙˆÙ‰ Ù„Ù„ÙØ­Øµ
      timeout: 5s
      # Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ù‚Ø¨Ù„ Ø§Ø¹ØªØ¨Ø§Ø± Ø§Ù„Ø®Ø¯Ù…Ø© Ù…Ø¹Ø·Ù„Ø©
      retries: 5
      # ÙØªØ±Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ø¨Ù„ Ø£ÙˆÙ„ ÙØ­Øµ
      start_period: 10s

    # Ø³ÙŠØ§Ø³Ø© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„
    # unless-stopped = Ø£Ø¹Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¥Ù„Ø§ Ø¥Ø°Ø§ Ø£ÙˆÙ‚ÙÙ†Ø§Ù‡Ø§ ÙŠØ¯ÙˆÙŠØ§Ù‹
    restart: unless-stopped

    # Ø§Ù„Ø´Ø¨ÙƒØ©
    networks:
      - rafiq_network


  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ğŸ”´ Ø®Ø§Ø¯Ù… Redis
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  #
  # Redis = Ù…Ø®Ø²Ù† Ø¨ÙŠØ§Ù†Ø§Øª ÙØ§Ø¦Ù‚ Ø§Ù„Ø³Ø±Ø¹Ø© ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø©
  # Ù†Ø³ØªØ®Ø¯Ù…Ù‡ Ù„Ù€:
  # - Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª (Cache) - ØªØ³Ø±ÙŠØ¹ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©
  # - Ø§Ù„Ø¬Ù„Ø³Ø§Øª (Sessions)
  # - Ø·ÙˆØ§Ø¨ÙŠØ± Ø§Ù„Ù…Ù‡Ø§Ù… (Job Queues)
  # - Pub/Sub Ù„Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ÙÙˆØ±ÙŠØ©
  #
  redis:
    image: redis:7-alpine
    container_name: rafiq_redis
    
    # Ø£Ù…Ø± Ø§Ù„ØªØ´ØºÙŠÙ„ Ù…Ø¹ Ø®ÙŠØ§Ø±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
    command: >
      redis-server
      --appendonly yes
      --maxmemory 256mb
      --maxmemory-policy allkeys-lru
    
    # Ø´Ø±Ø­ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª:
    # --appendonly yes        = Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø±Øµ (Ù„Ø§ ØªØ¶ÙŠØ¹ Ø¹Ù†Ø¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„)
    # --maxmemory 256mb       = Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø°Ø§ÙƒØ±Ø©
    # --maxmemory-policy      = Ù…Ø§Ø°Ø§ Ù†ÙØ¹Ù„ Ø¹Ù†Ø¯ Ø§Ù…ØªÙ„Ø§Ø¡ Ø§Ù„Ø°Ø§ÙƒØ±Ø©ØŸ
    #   allkeys-lru           = Ø§Ø­Ø°Ù Ø§Ù„Ø£Ù‚Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Ù‹ (Least Recently Used)

    ports:
      - "6379:6379"

    volumes:
      # Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Redis
      - redis_data:/data

    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 10s
      timeout: 5s
      retries: 5

    restart: unless-stopped

    networks:
      - rafiq_network


  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ğŸš€ ØªØ·Ø¨ÙŠÙ‚ Rafiq API
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  #
  # Ù‡Ø°Ù‡ Ù‡ÙŠ Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø§Ù„ØªÙŠ ØªØ´ØºÙ‘Ù„ Ø§Ù„Ù€ API
  #
  api:
    # Ø¨Ù†Ø§Ø¡ Ø§Ù„ØµÙˆØ±Ø© Ù…Ù† Dockerfile
    build:
      context: .
      dockerfile: docker/Dockerfile
      # Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ© (development Ø£Ùˆ production)
      target: development

    container_name: rafiq_api
    
    # Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©
    environment:
      NODE_ENV: development
      PORT: 3000
      
      # Ø§ØªØµØ§Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      # "postgres" = Ø§Ø³Ù… Ø§Ù„Ø®Ø¯Ù…Ø© ÙÙŠ docker-compose
      # Docker ÙŠØ­ÙˆÙ„Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¥Ù„Ù‰ IP Ø§Ù„ØµØ­ÙŠØ­
      DB_HOST: postgres
      DB_PORT: 5432
      DB_NAME: rafiq_db
      DB_USERNAME: rafiq_user
      DB_PASSWORD: rafiq_secret_password
      
      # Ø§ØªØµØ§Ù„ Redis
      REDIS_HOST: redis
      REDIS_PORT: 6379

    ports:
      # Ø§Ù„Ù…Ù†ÙØ° Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù„Ù€ API
      - "3000:3000"
      # Ù…Ù†ÙØ° Ø§Ù„Ù€ Debug (Ù„Ù„ØªØ·ÙˆÙŠØ±)
      - "9229:9229"

    volumes:
      # Ø±Ø¨Ø· Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ØµØ¯Ø±ÙŠ (Hot Reload)
      # Ø£ÙŠ ØªØºÙŠÙŠØ± ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ ÙŠÙØ­Ø¯Ù‘Ø« Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ù…Ø¨Ø§Ø´Ø±Ø©
      - ./src:/app/src
      - ./package.json:/app/package.json
      
      # Ø§Ø³ØªØ«Ù†Ø§Ø¡ node_modules (Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„Ø­Ø§ÙˆÙŠØ©)
      - /app/node_modules

    # Ø§Ù†ØªØ¸Ø± Ø­ØªÙ‰ ØªØ¬Ù‡Ø² Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø¯Ù…Ø§Øª
    depends_on:
      postgres:
        condition: service_healthy
      redis:
        condition: service_healthy

    # Ø£Ù…Ø± Ø§Ù„ØªØ´ØºÙŠÙ„
    command: npm run start:dev

    restart: unless-stopped

    networks:
      - rafiq_network


  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ğŸ› ï¸ Ø£Ø¯Ø§Ø© pgAdmin (Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  #
  # pgAdmin = ÙˆØ§Ø¬Ù‡Ø© Ø±Ø³ÙˆÙ…ÙŠØ© Ù„Ø¥Ø¯Ø§Ø±Ø© PostgreSQL
  # ØªÙØ³Ù‡Ù‘Ù„: Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§ØªØŒ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
  #
  # Ù„Ù„ØªØ´ØºÙŠÙ„: docker-compose --profile tools up -d
  #
  pgadmin:
    image: dpage/pgadmin4:latest
    container_name: rafiq_pgadmin
    
    # profiles = ØªØ´ØºÙŠÙ„ Ø§Ø®ØªÙŠØ§Ø±ÙŠ
    # Ù„Ø§ ØªØ¹Ù…Ù„ Ù…Ø¹ docker-compose up Ø§Ù„Ø¹Ø§Ø¯ÙŠ
    # ØªØ¹Ù…Ù„ ÙÙ‚Ø· Ù…Ø¹: docker-compose --profile tools up
    profiles:
      - tools

    environment:
      # Ø¨Ø±ÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
      PGADMIN_DEFAULT_EMAIL: admin@rafiq.sa
      # ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
      PGADMIN_DEFAULT_PASSWORD: admin123
      # ØªØ¹Ø·ÙŠÙ„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù…
      PGADMIN_CONFIG_SERVER_MODE: 'False'

    ports:
      # Ø§Ù„ÙˆØµÙˆÙ„ Ø¹Ø¨Ø±: http://localhost:5050
      - "5050:80"

    volumes:
      - pgadmin_data:/var/lib/pgadmin

    depends_on:
      - postgres

    restart: unless-stopped

    networks:
      - rafiq_network


  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ğŸ› ï¸ Ø£Ø¯Ø§Ø© Redis Commander (Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  #
  # Redis Commander = ÙˆØ§Ø¬Ù‡Ø© Ø±Ø³ÙˆÙ…ÙŠØ© Ù„Ø¥Ø¯Ø§Ø±Ø© Redis
  # ØªÙØ³Ù‡Ù‘Ù„: Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø§Ù„Ù…ÙØ§ØªÙŠØ­ØŒ Ø§Ù„Ù‚ÙŠÙ…ØŒ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡
  #
  redis-commander:
    image: rediscommander/redis-commander:latest
    container_name: rafiq_redis_commander
    
    profiles:
      - tools

    environment:
      - REDIS_HOSTS=local:redis:6379

    ports:
      # Ø§Ù„ÙˆØµÙˆÙ„ Ø¹Ø¨Ø±: http://localhost:8081
      - "8081:8081"

    depends_on:
      - redis

    restart: unless-stopped

    networks:
      - rafiq_network


# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸ’¾ ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ† (Volumes)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Volumes = Ù…Ø³Ø§Ø­Ø§Øª ØªØ®Ø²ÙŠÙ† Ø¯Ø§Ø¦Ù…Ø©
# Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¨Ù‚Ù‰ Ø­ØªÙ‰ Ù„Ùˆ Ø­Ø°ÙÙ†Ø§ Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª
# ÙŠÙ…ÙƒÙ† Ù…Ø´Ø§Ø±ÙƒØªÙ‡Ø§ Ø¨ÙŠÙ† Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª

volumes:
  # Ø¨ÙŠØ§Ù†Ø§Øª PostgreSQL
  postgres_data:
    driver: local
    
  # Ø¨ÙŠØ§Ù†Ø§Øª Redis
  redis_data:
    driver: local
    
  # Ø¨ÙŠØ§Ù†Ø§Øª pgAdmin
  pgadmin_data:
    driver: local


# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸŒ Ø§Ù„Ø´Ø¨ÙƒØ§Øª (Networks)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Networks = Ø´Ø¨ÙƒØ§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„ØªÙˆØ§ØµÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª
# Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª ÙÙŠ Ù†ÙØ³ Ø§Ù„Ø´Ø¨ÙƒØ© ÙŠÙ…ÙƒÙ†Ù‡Ø§ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø®Ø¯Ù…Ø§Øª

networks:
  rafiq_network:
    driver: bridge
    # bridge = Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
    # ÙŠØ³Ù…Ø­ Ù„Ù„Ø­Ø§ÙˆÙŠØ§Øª Ø¨Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø¨Ø¹Ø¶Ù‡Ø§ ÙˆÙ…Ø¹ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø¶ÙŠÙ

# ═══════════════════════════════════════════════════════════════════════════════
# ملف متغيرات البيئة - Environment Variables
# ═══════════════════════════════════════════════════════════════════════════════
#
# ⚠️ تحذير مهم:
# هذا الملف (.env.example) هو نموذج فقط - لا يحتوي على قيم حقيقية
# انسخه إلى .env واملأ القيم الحقيقية
# 
# الأمر: cp .env.example .env
#
# ⚠️ لا ترفع ملف .env إلى Git أبداً!
# ═══════════════════════════════════════════════════════════════════════════════


# ─────────────────────────────────────────────────────────────────────────────
# 🏠 إعدادات التطبيق الأساسية
# ─────────────────────────────────────────────────────────────────────────────

# اسم التطبيق - يظهر في السجلات والـ API docs
APP_NAME=Rafiq

# البيئة الحالية
# development = التطوير (سجلات مفصلة، أخطاء مفصلة)
# staging = الاختبار (بيئة تشبه الإنتاج)
# production = الإنتاج (سجلات محدودة، أمان أعلى)
NODE_ENV=development

# المنفذ الذي يستمع عليه الخادم
# عادة 3000 للتطوير، 80 أو 443 للإنتاج
PORT=3000

# رابط الـ API الأساسي (بدون / في النهاية)
# مثال للتطوير: http://localhost:3000
# مثال للإنتاج: https://api.rafeq.ai
API_BASE_URL=http://localhost:3000

# رابط الواجهة الأمامية (Frontend)
# يُستخدم لـ CORS وروابط البريد الإلكتروني
FRONTEND_URL=http://localhost:3001

# هل التطبيق خلف Proxy (مثل Nginx أو Load Balancer)؟
# true = نثق بـ X-Forwarded-* headers
# مهم للحصول على IP الحقيقي للمستخدم
TRUST_PROXY=false


# ─────────────────────────────────────────────────────────────────────────────
# 🗄️ قاعدة البيانات PostgreSQL
# ─────────────────────────────────────────────────────────────────────────────
#
# PostgreSQL = قاعدة بيانات علائقية قوية ومفتوحة المصدر
# تدعم: JSON, Full-text search, GIS, وأكثر
# ─────────────────────────────────────────────────────────────────────────────

# عنوان خادم قاعدة البيانات
DB_HOST=localhost

# منفذ PostgreSQL (الافتراضي: 5432)
DB_PORT=5432

# اسم قاعدة البيانات
DB_NAME=rafiq_db

# اسم المستخدم
DB_USERNAME=rafiq_user

# كلمة المرور
# ⚠️ استخدم كلمة مرور قوية في الإنتاج!
DB_PASSWORD=rafiq_secret_password

# هل نستخدم SSL للاتصال؟
# true للإنتاج (خاصة مع قواعد البيانات السحابية)
DB_SSL=false

# هل نزامن الـ schema تلقائياً؟
# ⚠️ استخدم false في الإنتاج! استخدم migrations بدلاً من ذلك
DB_SYNCHRONIZE=true

# هل نسجل استعلامات SQL؟
DB_LOGGING=true


# ─────────────────────────────────────────────────────────────────────────────
# 🔴 خادم Redis
# ─────────────────────────────────────────────────────────────────────────────

# عنوان خادم Redis
REDIS_HOST=localhost

# منفذ Redis (الافتراضي: 6379)
REDIS_PORT=6379

# كلمة مرور Redis (اختياري للتطوير، مطلوب للإنتاج)
REDIS_PASSWORD=

# رقم قاعدة البيانات
REDIS_DB=0

# مدة صلاحية التخزين المؤقت بالثواني
REDIS_CACHE_TTL=3600

# هل نستخدم TLS/SSL للاتصال بـ Redis؟
REDIS_TLS=false


# ─────────────────────────────────────────────────────────────────────────────
# 🔑 المصادقة (Authentication) - JWT
# ─────────────────────────────────────────────────────────────────────────────

# المفتاح السري لتوقيع JWT
# يمكنك توليدها بـ: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# مدة صلاحية Access Token
JWT_ACCESS_EXPIRATION=15m

# مدة صلاحية Refresh Token
JWT_REFRESH_EXPIRATION=7d


# ─────────────────────────────────────────────────────────────────────────────
# 🛒 منصة سلة (Salla)
# ─────────────────────────────────────────────────────────────────────────────
#
# للحصول على هذه المفاتيح:
# 1. سجل كمطور في: https://salla.partners
# 2. أنشئ تطبيق جديد
# 3. اختر "نمط مخصص" في إعدادات المصادقة
# 4. احصل على Client ID و Client Secret
#
# ⚠️ مهم جداً:
# - المسار الصحيح: /api/stores/salla/callback
# - بدون /v1/ في المسار!
# ─────────────────────────────────────────────────────────────────────────────

# معرف التطبيق في سلة (Client ID)
SALLA_CLIENT_ID=

# المفتاح السري للتطبيق (Client Secret)
SALLA_CLIENT_SECRET=

# رابط إعادة التوجيه بعد OAuth
# ⚠️ يجب أن يكون مطابقاً تماماً لما في Salla Partners
# للتطوير:
SALLA_REDIRECT_URI=http://localhost:3000/api/stores/salla/callback
SALLA_OAUTH_CALLBACK_URL=http://localhost:3000/api/stores/salla/callback
# للإنتاج استخدم:
# SALLA_REDIRECT_URI=https://api.rafeq.ai/api/stores/salla/callback
# SALLA_OAUTH_CALLBACK_URL=https://api.rafeq.ai/api/stores/salla/callback

# المفتاح السري للتحقق من Webhooks
SALLA_WEBHOOK_SECRET=

# رابط API سلة
SALLA_API_URL=https://api.salla.dev/admin/v2


# ─────────────────────────────────────────────────────────────────────────────
# 🏪 منصة زد (Zid)
# ─────────────────────────────────────────────────────────────────────────────

# معرف التطبيق في زد
ZID_CLIENT_ID=

# المفتاح السري للتطبيق
ZID_CLIENT_SECRET=

# رابط إعادة التوجيه بعد OAuth
ZID_REDIRECT_URI=http://localhost:3000/api/stores/zid/callback
ZID_OAUTH_CALLBACK_URL=http://localhost:3000/api/stores/zid/callback

# المفتاح السري للتحقق من Webhooks
ZID_WEBHOOK_SECRET=

# رابط API زد
ZID_API_URL=https://api.zid.sa/v1


# ─────────────────────────────────────────────────────────────────────────────
# 💬 واتساب (WhatsApp Business API)
# ─────────────────────────────────────────────────────────────────────────────

# معرف تطبيق Meta
META_APP_ID=

# المفتاح السري لتطبيق Meta
META_APP_SECRET=

# رمز الوصول للـ API
WHATSAPP_ACCESS_TOKEN=

# معرف رقم الهاتف المرسل
WHATSAPP_PHONE_NUMBER_ID=

# معرف حساب الأعمال
WHATSAPP_BUSINESS_ACCOUNT_ID=

# المفتاح للتحقق من Webhooks
WHATSAPP_WEBHOOK_VERIFY_TOKEN=

# إصدار الـ API
WHATSAPP_API_VERSION=v18.0


# ─────────────────────────────────────────────────────────────────────────────
# 🎮 ديسكورد (Discord Bot)
# ─────────────────────────────────────────────────────────────────────────────

# رمز البوت السري
DISCORD_BOT_TOKEN=

# معرف التطبيق
DISCORD_APPLICATION_ID=

# المفتاح العام للتحقق من التفاعلات
DISCORD_PUBLIC_KEY=


# ─────────────────────────────────────────────────────────────────────────────
# 🤖 الذكاء الاصطناعي - OpenAI
# ─────────────────────────────────────────────────────────────────────────────

# مفتاح API
OPENAI_API_KEY=sk-your-openai-api-key

# النموذج المستخدم
OPENAI_MODEL=gpt-4-turbo-preview

# الحد الأقصى للـ tokens
OPENAI_MAX_TOKENS=4096

# درجة الحرارة (Creativity)
OPENAI_TEMPERATURE=0.7


# ─────────────────────────────────────────────────────────────────────────────
# 💳 الدفع - Stripe
# ─────────────────────────────────────────────────────────────────────────────

STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret


# ─────────────────────────────────────────────────────────────────────────────
# 💳 الدفع - مُيسّر (Moyasar)
# ─────────────────────────────────────────────────────────────────────────────

MOYASAR_SECRET_KEY=sk_test_your_moyasar_secret_key
MOYASAR_PUBLISHABLE_KEY=pk_test_your_moyasar_publishable_key
MOYASAR_WEBHOOK_SECRET=


# ─────────────────────────────────────────────────────────────────────────────
# 📧 البريد الإلكتروني (SMTP)
# ─────────────────────────────────────────────────────────────────────────────

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@rafeq.ai
SMTP_FROM_NAME=Rafiq


# ─────────────────────────────────────────────────────────────────────────────
# 📊 المراقبة والتتبع (Monitoring)
# ─────────────────────────────────────────────────────────────────────────────

SENTRY_DSN=
LOG_LEVEL=debug


# ─────────────────────────────────────────────────────────────────────────────
# 🔒 الأمان (Security)
# ─────────────────────────────────────────────────────────────────────────────

CORS_ORIGINS=http://localhost:3001,http://localhost:3000
THROTTLE_TTL=60
THROTTLE_LIMIT=100
APP_SECRET=your-app-secret-change-in-production


# ─────────────────────────────────────────────────────────────────────────────
# 📁 التخزين السحابي (S3-Compatible)
# ─────────────────────────────────────────────────────────────────────────────

STORAGE_TYPE=local
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_BUCKET=rafiq-storage
S3_REGION=me-south-1
S3_ENDPOINT=


# ─────────────────────────────────────────────────────────────────────────────
# 🧪 إعدادات التطوير
# ─────────────────────────────────────────────────────────────────────────────

SWAGGER_ENABLED=true
DEBUG=true


# ═══════════════════════════════════════════════════════════════════════════════
# 📋 قيم الإنتاج المقترحة (Production Values)
# ═══════════════════════════════════════════════════════════════════════════════
#
# NODE_ENV=production
# DB_SSL=true
# DB_SYNCHRONIZE=false
# DB_LOGGING=false
# REDIS_TLS=true
# TRUST_PROXY=true
# SWAGGER_ENABLED=false
# DEBUG=false
# LOG_LEVEL=warn
#
# API_BASE_URL=https://api.rafeq.ai
# FRONTEND_URL=https://rafeq.ai
# CORS_ORIGINS=https://rafeq.ai,https://www.rafeq.ai
#
# SALLA_REDIRECT_URI=https://api.rafeq.ai/api/stores/salla/callback
# SALLA_OAUTH_CALLBACK_URL=https://api.rafeq.ai/api/stores/salla/callback
# ZID_REDIRECT_URI=https://api.rafeq.ai/api/stores/zid/callback
# ZID_OAUTH_CALLBACK_URL=https://api.rafeq.ai/api/stores/zid/callback
#
# ═══════════════════════════════════════════════════════════════════════════════

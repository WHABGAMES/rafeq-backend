/**
 * â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
 * â•‘                    RAFIQ PLATFORM - TypeORM Configuration                      â•‘
 * â•‘                                                                                â•‘
 * â•‘  ğŸ“Œ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù ÙŠÙØ¹Ø±Ù‘Ù Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª PostgreSQL               â•‘
 * â•‘                                                                                â•‘
 * â•‘  ğŸ¤” Ù…Ø§ Ù‡Ùˆ TypeORMØŸ                                                             â•‘
 * â•‘     TypeORM = Object-Relational Mapping                                       â•‘
 * â•‘     ÙŠØ³Ù…Ø­ Ù„Ùƒ Ø¨Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒØ§Ø¦Ù†Ø§Øª TypeScript             â•‘
 * â•‘     Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† ÙƒØªØ§Ø¨Ø© SQL Ù…Ø¨Ø§Ø´Ø±Ø©                                                  â•‘
 * â•‘                                                                                â•‘
 * â•‘  Ù…Ø«Ø§Ù„:                                                                        â•‘
 * â•‘     Ø¨Ø¯ÙˆÙ† ORM: SELECT * FROM users WHERE id = 1                               â•‘
 * â•‘     Ù…Ø¹ ORM:   userRepository.findOne({ where: { id: 1 } })                    â•‘
 * â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 */

import { ConfigService } from '@nestjs/config';
import { TypeOrmModuleAsyncOptions, TypeOrmModuleOptions } from '@nestjs/typeorm';
import { DataSource, DataSourceOptions } from 'typeorm';

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù€ Entities
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
/**
 * ğŸ“¦ Entity = ÙƒØ§Ø¦Ù† ÙŠÙ…Ø«Ù„ Ø¬Ø¯ÙˆÙ„Ø§Ù‹ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
 *
 * ÙƒÙ„ Entity ÙŠÙØ¹Ø±Ù‘Ù:
 * - Ø§Ø³Ù… Ø§Ù„Ø¬Ø¯ÙˆÙ„
 * - Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© (columns)
 * - Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª (relations)
 * - Ø§Ù„Ù‚ÙŠÙˆØ¯ (constraints)
 *
 * Ù…Ø«Ø§Ù„ User Entity:
 * @Entity('users')
 * class User {
 *   @PrimaryGeneratedColumn('uuid')
 *   id: string;
 *
 *   @Column()
 *   email: string;
 * }
 *
 * ÙŠÙ†ØªØ¬ Ø¬Ø¯ÙˆÙ„:
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚            users                     â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ id       â”‚ uuid (primary key)       â”‚
 * â”‚ email    â”‚ varchar                   â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 */
import { User } from '@database/entities/user.entity';
import { Tenant } from '@database/entities/tenant.entity';
import { Store } from '@database/entities/store.entity';
import { Channel } from '@database/entities/channel.entity';
import { Message } from '@database/entities/message.entity';
import { Conversation } from '@database/entities/conversation.entity';
import { Campaign } from '@database/entities/campaign.entity';
import { Customer } from '@database/entities/customer.entity';
import { Order } from '@database/entities/order.entity';
import { WebhookEvent } from '@database/entities/webhook-event.entity';
import { MessageTemplate } from '@database/entities/message-template.entity';
import { Subscription } from '@database/entities/subscription.entity';
import { SubscriptionPlan } from '@database/entities/subscription-plan.entity';

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù‚Ø§Ø¦Ù…Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù€ Entities
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
/**
 * ğŸ“‹ Ù„Ù…Ø§Ø°Ø§ Ù†Ø¬Ù…Ø¹Ù‡Ø§ ÙÙŠ Ù…ØµÙÙˆÙØ©ØŸ
 *
 * TypeORM ÙŠØ­ØªØ§Ø¬ Ù…Ø¹Ø±ÙØ© ÙƒÙ„ Ø§Ù„Ù€ Entities Ù„Ù€:
 * 1. Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ (synchronize)
 * 2. Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù€ Migrations
 * 3. ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø¨ÙŠÙ† Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
 *
 * âš ï¸ Ù…Ù‡Ù…: Ø¥Ø°Ø§ Ù†Ø³ÙŠØª Ø¥Ø¶Ø§ÙØ© Entity Ù‡Ù†Ø§:
 * - Ù„Ù† ÙŠÙÙ†Ø´Ø£ Ø§Ù„Ø¬Ø¯ÙˆÙ„
 * - Ø³ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ø®Ø·Ø£ Ø¹Ù†Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… Repository
 */
const entities = [
  User,
  Tenant,
  Store,
  Channel,
  Message,
  Conversation,
  Campaign,
  Customer,
  Order,
  WebhookEvent,
  MessageTemplate,
  Subscription,
  SubscriptionPlan,
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ø¯Ø§Ù„Ø© Ø¨Ù†Ø§Ø¡ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª TypeORM
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
/**
 * ğŸ”§ buildTypeOrmConfig - ØªØ¨Ù†ÙŠ ÙƒØ§Ø¦Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
 *
 * @param configService - Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©
 * @returns TypeOrmModuleOptions - Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø©
 *
 * Ù„Ù…Ø§Ø°Ø§ Ø¯Ø§Ù„Ø© ÙˆÙ„ÙŠØ³ ÙƒØ§Ø¦Ù† Ø«Ø§Ø¨ØªØŸ
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * Ù„Ø£Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©
 * Ø§Ù„ØªÙŠ ØªÙØ­Ù…Ù‘Ù„ ÙÙŠ ÙˆÙ‚Øª Ø§Ù„ØªØ´ØºÙŠÙ„ ÙˆÙ„ÙŠØ³ ÙˆÙ‚Øª Ø§Ù„ØªØ¬Ù…ÙŠØ¹
 */
export const buildTypeOrmConfig = (
  configService: ConfigService,
): TypeOrmModuleOptions => {
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const nodeEnv = configService.get<string>('app.env', 'development');
  const isProduction = nodeEnv === 'production';
  const isDevelopment = nodeEnv === 'development';

  return {
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸ”Œ Ù†ÙˆØ¹ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    /**
     * TypeORM ÙŠØ¯Ø¹Ù…:
     * - postgres (Ù†Ø³ØªØ®Ø¯Ù…Ù‡)
     * - mysql / mariadb
     * - sqlite (Ù„Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø­Ù„ÙŠ)
     * - mssql
     * - oracle
     * - mongodb (NoSQL)
     *
     * Ù„Ù…Ø§Ø°Ø§ PostgreSQLØŸ
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * 1. Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø± ÙˆÙ…Ø¬Ø§Ù†ÙŠ
     * 2. Ø£Ø¯Ø§Ø¡ Ù…Ù…ØªØ§Ø² Ù„Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©
     * 3. Ø¯Ø¹Ù… JSON/JSONB Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±Ù†Ø©
     * 4. Full-text search Ù…Ø¯Ù…Ø¬
     * 5. Ø¯Ø¹Ù… UUID ÙƒÙ€ primary key
     * 6. Ø¯Ø¹Ù… Arrays ÙÙŠ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©
     * 7. Ù…Ø³ØªÙ‚Ø± ÙˆÙ…ÙˆØ«ÙˆÙ‚ Ù„Ù„Ù€ Production
     */
    type: 'postgres',

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸŒ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    /**
     * host: Ø¹Ù†ÙˆØ§Ù† Ø®Ø§Ø¯Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * - localhost: Ù„Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø­Ù„ÙŠ
     * - postgres: Ø§Ø³Ù… Ø§Ù„Ù€ container ÙÙŠ Docker
     * - db.example.com: Ù„Ù„Ù€ Production
     *
     * port: Ù…Ù†ÙØ° PostgreSQL
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * - 5432: Ø§Ù„Ù…Ù†ÙØ° Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
     *
     * database: Ø§Ø³Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * - ÙŠØ¬Ø¨ Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§ Ù…Ø³Ø¨Ù‚Ø§Ù‹ ÙÙŠ PostgreSQL
     * - Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù… synchronize: true (Ù„Ù„ØªØ·ÙˆÙŠØ± ÙÙ‚Ø·)
     */
    host: configService.get<string>('database.host', 'localhost'),
    port: configService.get<number>('database.port', 5432),
    database: configService.get<string>('database.name', 'rafiq_db'),

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸ” Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    /**
     * âš ï¸ ØªØ­Ø°ÙŠØ± Ø£Ù…Ù†ÙŠ:
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * - Ù„Ø§ ØªØ¶Ø¹ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø³Ø± ÙÙŠ Ø§Ù„ÙƒÙˆØ¯!
     * - Ø§Ø³ØªØ®Ø¯Ù… Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹
     * - ÙÙŠ Production: Ø§Ø³ØªØ®Ø¯Ù… Secret Manager (AWS/GCP/Azure)
     *
     * ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * CREATE USER rafiq_user WITH PASSWORD 'secure_password';
     * GRANT ALL PRIVILEGES ON DATABASE rafiq_db TO rafiq_user;
     *
     * Ù„Ù„Ù€ ProductionØŒ Ø£Ø¹Ø·Ù Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª:
     * GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA public TO rafiq_user;
     */
    username: configService.get<string>('database.username', 'rafiq_user'),
    password: configService.get<string>('database.password', ''),

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸ”’ SSL/TLS Ù„Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ù…Ø´ÙØ±
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    /**
     * SSL (Secure Sockets Layer):
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * ÙŠØ´ÙØ± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨ÙŠÙ† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆÙ‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
     *
     * Ù…ØªÙ‰ ØªØ³ØªØ®Ø¯Ù…Ù‡ØŸ
     * - Production: Ø¯Ø§Ø¦Ù…Ø§Ù‹ âœ…
     * - Development Ù…Ø­Ù„ÙŠ: ØºÙŠØ± Ø¶Ø±ÙˆØ±ÙŠ âŒ
     * - Staging: Ù†Ø¹Ù… âœ…
     *
     * rejectUnauthorized: false
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * ÙŠØ³Ù…Ø­ Ø¨Ø´Ù‡Ø§Ø¯Ø§Øª SSL ØºÙŠØ± Ù…ÙˆØ«Ù‚Ø©
     * Ù…ÙÙŠØ¯ Ù„Ù€ self-signed certificates
     * âš ï¸ ÙÙŠ Production Ø§Ø³ØªØ®Ø¯Ù… Ø´Ù‡Ø§Ø¯Ø§Øª Ù…ÙˆØ«Ù‚Ø©
     */
    // âœ… SSL Ù…ÙÙØ¹Ù‘Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙÙŠ Production Ù„Ù€ DigitalOcean
    ssl: isProduction || configService.get<boolean>('database.ssl', false)
      ? {
          rejectUnauthorized: false, // Ù…Ø·Ù„ÙˆØ¨ Ù„Ù€ DigitalOcean Managed Databases
        }
      : false,

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸ“¦ Ø§Ù„Ù€ Entities
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    /**
     * entities: Ù…ØµÙÙˆÙØ© Ø§Ù„ÙƒÙ„Ø§Ø³Ø§Øª Ø§Ù„ØªÙŠ ØªÙ…Ø«Ù„ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
     *
     * ÙŠÙ…ÙƒÙ† ØªØ­Ø¯ÙŠØ¯Ù‡Ø§ Ø¨Ù€:
     * 1. Ù…ØµÙÙˆÙØ© ÙƒÙ„Ø§Ø³Ø§Øª (Ù†Ø³ØªØ®Ø¯Ù…Ù‡Ø§):
     *    entities: [User, Post, Comment]
     *
     * 2. Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ù„ÙØ§Øª (Glob pattern):
     *    entities: ['dist/**\/*.entity.js']
     *
     * ğŸ”´ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ù€ Glob pattern:
     * - Ù‚Ø¯ Ù„Ø§ ÙŠØ¹Ù…Ù„ Ù…Ø¹ webpack
     * - Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„Ù€ bundling
     * - Ø£Ø¨Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„
     *
     * âœ… Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…ØµÙÙˆÙØ© Ù„Ø£Ù†Ù‡Ø§:
     * - Ø£Ø³Ø±Ø¹ ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„
     * - Type-safe
     * - ØªØ¹Ù…Ù„ Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù€ bundlers
     */
    entities: entities,

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸ”„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© (Synchronize)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    /**
     * âš ï¸ Ø®Ø·ÙŠØ± Ø¬Ø¯Ø§Ù‹ ÙÙŠ Production!
     *
     * synchronize: true ÙŠØ¹Ù†ÙŠ:
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * TypeORM Ø³ÙŠØ¹Ø¯Ù‘Ù„ schema Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
     * Ù„ÙŠØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ù€ Entities
     *
     * Ù…Ø§ ÙŠØ­Ø¯Ø«:
     * - Ø¥Ø¶Ø§ÙØ© Ø£Ø¹Ù…Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø© âœ…
     * - Ø­Ø°Ù Ø£Ø¹Ù…Ø¯Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø© âŒ (Ù‚Ø¯ ØªÙÙ‚Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª!)
     * - ØªØ¹Ø¯ÙŠÙ„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© âŒ (Ù‚Ø¯ ØªÙÙ‚Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª!)
     *
     * Ù…ØªÙ‰ ØªØ³ØªØ®Ø¯Ù…Ù‡ØŸ
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * âœ… Development: Ù…ÙÙŠØ¯ Ù„Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ø³Ø±ÙŠØ¹
     * âŒ Production: Ø§Ø³ØªØ®Ø¯Ù… Migrations Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù†Ù‡
     * âŒ Staging: Ø§Ø³ØªØ®Ø¯Ù… Migrations
     *
     * Migrations vs Synchronize:
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * Synchronize: ØªÙ„Ù‚Ø§Ø¦ÙŠØŒ Ù‚Ø¯ ÙŠØ­Ø°Ù Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹
     * Migrations: ÙŠØ¯ÙˆÙŠØŒ Ø¢Ù…Ù†ØŒ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ØŒ Ù‚Ø§Ø¨Ù„ Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©
     */
    // âœ… ÙŠÙ…ÙƒÙ† ØªÙØ¹ÙŠÙ„Ù‡ Ù…Ù† Environment Variable: DATABASE_SYNCHRONIZE=true
    synchronize: configService.get<boolean>('database.synchronize', false),

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸ“ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ (Logging)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    /**
     * logging: ÙŠØ¹Ø±Ø¶ SQL queries ÙÙŠ Ø§Ù„Ù€ console
     *
     * Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ù…ÙƒÙ†Ø©:
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * - true: ÙƒÙ„ Ø´ÙŠØ¡
     * - false: Ù„Ø§ Ø´ÙŠØ¡
     * - ['query']: ÙÙ‚Ø· Ø§Ù„Ù€ queries
     * - ['error']: ÙÙ‚Ø· Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
     * - ['warn']: ÙÙ‚Ø· Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª
     * - ['schema']: ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ù€ schema
     * - ['migration']: Ø§Ù„Ù€ migrations
     * - 'all': ÙƒÙ„ Ø´ÙŠØ¡
     *
     * Ù…Ø«Ø§Ù„ Ø§Ù„Ù†Ø§ØªØ¬:
     * query: SELECT * FROM "users" WHERE "id" = $1 -- PARAMETERS: ["uuid..."]
     *
     * âš ï¸ ÙÙŠ Production:
     * - Ø§Ø³ØªØ®Ø¯Ù… ['error', 'warn'] ÙÙ‚Ø·
     * - Ø§Ù„Ù€ query logging ÙŠØ¨Ø·Ø¦ Ø§Ù„Ø£Ø¯Ø§Ø¡
     * - Ù‚Ø¯ ÙŠÙƒØ´Ù Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø³Ø© ÙÙŠ Ø§Ù„Ù€ logs
     */
    logging: isDevelopment
      ? configService.get<boolean>('database.logging', true)
      : ['error', 'warn'],

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸ”„ Connection Pool
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    /**
     * ğŸ¤” Ù…Ø§ Ù‡Ùˆ Connection PoolØŸ
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† ÙØªØ­/Ø¥ØºÙ„Ø§Ù‚ Ø§ØªØµØ§Ù„ Ù„ÙƒÙ„ query
     * Ù†Ø­ØªÙØ¸ Ø¨Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§ØªØµØ§Ù„Ø§Øª Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
     *
     * Ø§Ù„ÙÙˆØ§Ø¦Ø¯:
     * 1. Ø³Ø±Ø¹Ø© Ø£ÙƒØ¨Ø± (Ù„Ø§ Ø§Ù†ØªØ¸Ø§Ø± Ù„ÙØªØ­ Ø§ØªØµØ§Ù„)
     * 2. Ù…ÙˆØ§Ø±Ø¯ Ø£Ù‚Ù„ (Ø¥Ø¹Ø§Ø¯Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª)
     * 3. Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø£ÙØ¶Ù„ (ØªØ­ÙƒÙ… ÙÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª)
     *
     * poolSize: Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø§ØªØµØ§Ù„Ø§Øª Ø§Ù„Ù…ØªØ²Ø§Ù…Ù†Ø©
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * - Development: 10 Ø§ØªØµØ§Ù„Ø§Øª ÙƒØ§ÙÙŠØ©
     * - Production: 20-50 Ø­Ø³Ø¨ Ø§Ù„Ø­Ù…Ù„
     *
     * ğŸ“Š ÙƒÙŠÙ ØªØ®ØªØ§Ø± Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ØŸ
     * connections = (CPU cores Ã— 2) + disk spindles
     * Ù„Ù€ SSD Ø¨Ù€ 4 cores: (4 Ã— 2) + 1 = 9
     * Ù†Ø¬Ø¹Ù„Ù‡Ø§ 10-20 Ù„Ù„ØªØ£ÙƒØ¯
     *
     * âš ï¸ PostgreSQL Ù„Ù‡ Ø­Ø¯: max_connections (default: 100)
     * Ø¥Ø°Ø§ ÙƒØ§Ù† Ù„Ø¯ÙŠÙƒ 5 instances Ø¨Ù€ 20 Ø§ØªØµØ§Ù„ = 100 (Ø§Ù„Ø­Ø¯!)
     */
    extra: {
      // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø§ØªØµØ§Ù„Ø§Øª ÙÙŠ Ø§Ù„Ù€ Pool
      max: isProduction ? 20 : 10,

      // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø§ØªØµØ§Ù„Ø§Øª (ØªØ¨Ù‚Ù‰ Ù…ÙØªÙˆØ­Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹)
      min: isProduction ? 5 : 2,

      // ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§ØªØµØ§Ù„ (Ø¨Ø§Ù„Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©)
      // Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª: Ø®Ø·Ø£ "Connection pool exhausted"
      connectionTimeoutMillis: 10000, // 10 Ø«ÙˆØ§Ù†ÙŠ

      // ÙˆÙ‚Øª Ø§Ù„Ø®Ù…ÙˆÙ„ Ù‚Ø¨Ù„ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø§ØªØµØ§Ù„
      idleTimeoutMillis: 30000, // 30 Ø«Ø§Ù†ÙŠØ©
    },

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸ›¡ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    /**
     * autoLoadEntities: ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù€ Entities ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * Ø¹Ù†Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… TypeOrmModule.forFeature([Entity])
     * ÙŠÙØ¶Ø§Ù Ø§Ù„Ù€ Entity ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©
     *
     * âš ï¸ Ù„Ø§ ÙŠØ¹Ù…Ù„ Ù…Ø¹ Ù…Ù„ÙØ§Øª Ø§Ù„Ù€ Migrations
     * Ù„Ø°Ù„Ùƒ Ù†Ø³ØªØ®Ø¯Ù… entities array Ø£ÙŠØ¶Ø§Ù‹
     */
    autoLoadEntities: true,

    /**
     * retryAttempts: Ø¹Ø¯Ø¯ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø£ÙˆÙ„ØŒ ÙŠØ­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
     * Ù…ÙÙŠØ¯ Ø¹Ù†Ø¯:
     * - Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù‚Ø¨Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Docker)
     * - Ø§Ù†Ù‚Ø·Ø§Ø¹ Ù…Ø¤Ù‚Øª ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©
     */
    retryAttempts: isDevelopment ? 10 : 3,

    /**
     * retryDelay: Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø¨ÙŠÙ† Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª (Ø¨Ø§Ù„Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©)
     */
    retryDelay: 3000, // 3 Ø«ÙˆØ§Ù†ÙŠ

    /**
     * keepConnectionAlive: Ø¥Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„ Ù…ÙØªÙˆØ­Ø§Ù‹ Ø¹Ù†Ø¯ Hot Reload
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * ÙÙŠ Ø§Ù„ØªØ·ÙˆÙŠØ±ØŒ Ø¹Ù†Ø¯ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯:
     * - true: ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„Ø§ØªØµØ§Ù„ (Ø£Ø³Ø±Ø¹)
     * - false: ÙŠØ¹ÙŠØ¯ Ø§Ù„Ø§ØªØµØ§Ù„ (Ø£Ø¨Ø·Ø£ Ù„ÙƒÙ† Ø£Ù†Ø¸Ù)
     */
    keepConnectionAlive: isDevelopment,

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸ“ Migrations
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    /**
     * ğŸ¤” Ù…Ø§ Ù‡ÙŠ MigrationsØŸ
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * Ù…Ù„ÙØ§Øª ØªØµÙ ØªØºÙŠÙŠØ±Ø§Øª schema Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ ØªØ³Ù„Ø³Ù„ÙŠ
     *
     * Ù…Ø«Ø§Ù„ migration:
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * export class AddPhoneToUsers1234567890 {
     *   async up(queryRunner: QueryRunner) {
     *     await queryRunner.addColumn('users', new TableColumn({
     *       name: 'phone',
     *       type: 'varchar',
     *       isNullable: true,
     *     }));
     *   }
     *
     *   async down(queryRunner: QueryRunner) {
     *     await queryRunner.dropColumn('users', 'phone');
     *   }
     * }
     *
     * Ø§Ù„Ø£ÙˆØ§Ù…Ø±:
     * â”€â”€â”€â”€â”€â”€â”€â”€
     * npm run migration:generate -- -n AddPhoneToUsers
     * npm run migration:run
     * npm run migration:revert
     */
    migrations: ['dist/database/migrations/*.js'],
    migrationsTableName: 'migrations_history', // Ø§Ø³Ù… Ø¬Ø¯ÙˆÙ„ ØªØªØ¨Ø¹ Ø§Ù„Ù€ migrations

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸ“ Schema
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    /**
     * PostgreSQL Schemas:
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * Ù…Ø«Ù„ folders Ø¯Ø§Ø®Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
     *
     * Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ: public
     *
     * ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… schemas Ù…Ø®ØªÙ„ÙØ© Ù„Ù€:
     * - ÙØµÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù€ tenants
     * - ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø­Ø³Ø¨ Ø§Ù„ÙˆØ­Ø¯Ø§Øª
     *
     * Ù…Ø«Ø§Ù„ Multi-tenant:
     * - public: Ø¬Ø¯Ø§ÙˆÙ„ Ù…Ø´ØªØ±ÙƒØ©
     * - tenant_1: Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ 1
     * - tenant_2: Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ 2
     */
    schema: 'public',

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ğŸ• Timezone
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    /**
     * ØªØ¹ÙŠÙŠÙ† timezone Ù„Ù„Ø§ØªØµØ§Ù„
     *
     * UTC: Ù…ÙˆØµÙ‰ Ø¨Ù‡ Ù„Ù„Ù€ Production
     * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     * - ÙŠØªØ¬Ù†Ø¨ Ù…Ø´Ø§ÙƒÙ„ DST (Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„ØµÙŠÙÙŠ)
     * - Ø³Ù‡Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙÙŠ Ø§Ù„Ù€ Frontend
     * - Ù…Ø¹ÙŠØ§Ø± Ø¹Ø§Ù„Ù…ÙŠ
     *
     * Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù„Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù…Ø­Ù„ÙŠ:
     * ÙŠØªÙ… ÙÙŠ Ø§Ù„Ù€ Frontend Ø£Ùˆ API response
     */
    // timezone: 'UTC', // ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ… Ù…Ø¨Ø§Ø´Ø±Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ù… SET TIME ZONE ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„
  };
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TypeORM Async Configuration for NestJS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
/**
 * ğŸ”§ typeOrmConfig - Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹ TypeOrmModule.forRootAsync()
 *
 * Ù„Ù…Ø§Ø°Ø§ AsyncØŸ
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * Ù„Ø£Ù† ConfigService ÙŠÙØ­Ù…Ù‘Ù„ Ø¨Ø¹Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
 * Ù†Ø­ØªØ§Ø¬ Ø§Ù†ØªØ¸Ø§Ø±Ù‡ Ù‚Ø¨Ù„ Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
 *
 * Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ AppModule:
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * @Module({
 *   imports: [
 *     TypeOrmModule.forRootAsync(typeOrmConfig),
 *   ],
 * })
 */
export const typeOrmConfig: TypeOrmModuleAsyncOptions = {
  /**
   * inject: Ø§Ù„Ù€ Services Ø§Ù„ØªÙŠ Ù†Ø­ØªØ§Ø¬Ù‡Ø§
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * NestJS Ø³ÙŠÙˆÙØ± ConfigService ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
   * Ø¨Ø´Ø±Ø· Ø£Ù† ConfigModule ÙŠÙƒÙˆÙ† Ù…ÙØ³ØªÙˆØ±Ø¯Ø§Ù‹
   */
  inject: [ConfigService],

  /**
   * useFactory: Ø¯Ø§Ù„Ø© ØªÙØ±Ø¬Ø¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * ØªÙØ³ØªØ¯Ø¹Ù‰ Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ ConfigModule
   * ØªØ³ØªÙ‚Ø¨Ù„ Ø§Ù„Ù€ Services Ø§Ù„Ù…ÙØ­Ù‚ÙˆÙ†Ø© ÙƒÙ€ parameters
   */
  useFactory: (configService: ConfigService): TypeOrmModuleOptions => {
    return buildTypeOrmConfig(configService);
  },
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DataSource Configuration for CLI
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
/**
 * ğŸ› ï¸ DataSource - Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹ TypeORM CLI
 *
 * Ù„Ù…Ø§Ø°Ø§ Ù†Ø­ØªØ§Ø¬Ù‡ØŸ
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * Ø§Ù„Ù€ CLI (migrations, schema commands) ÙŠØ¹Ù…Ù„ Ø®Ø§Ø±Ø¬ NestJS
 * Ù„Ø§ ÙŠØ³ØªØ·ÙŠØ¹ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù€ ConfigService
 * Ù„Ø°Ù„Ùƒ Ù†Ù‚Ø±Ø£ Ù…Ù† process.env Ù…Ø¨Ø§Ø´Ø±Ø©
 *
 * Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØªÙŠ ØªØ³ØªØ®Ø¯Ù…Ù‡:
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * npx typeorm migration:generate -d src/config/typeorm.config.ts
 * npx typeorm migration:run -d src/config/typeorm.config.ts
 * npx typeorm schema:sync -d src/config/typeorm.config.ts
 *
 * âš ï¸ Ù…Ù„Ø§Ø­Ø¸Ø©:
 * ÙŠØ¬Ø¨ ØªØ­Ù…ÙŠÙ„ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© Ù‚Ø¨Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù€ CLI:
 * ØªØ«Ø¨ÙŠØª: npm install -D dotenv-cli
 * Ø§Ø³ØªØ®Ø¯Ø§Ù…: dotenv -e .env -- npx typeorm migration:run
 */

// ØªØ­Ù…ÙŠÙ„ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© Ù„Ù„Ù€ CLI
import * as dotenv from 'dotenv';
dotenv.config(); // ÙŠØ­Ù…Ù‘Ù„ Ù…Ù† .env

/**
 * dataSourceOptions: Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù€ DataSource Ù„Ù„Ù€ CLI
 *
 * âš ï¸ Ù…Ù„Ø§Ø­Ø¸Ø©: Ù†Ù‚Ø±Ø£ Ù…Ù† process.env Ù…Ø¨Ø§Ø´Ø±Ø©
 * Ù„Ø£Ù† ConfigService ØºÙŠØ± Ù…ØªØ§Ø­ Ø®Ø§Ø±Ø¬ NestJS
 */
export const dataSourceOptions: DataSourceOptions = {
  type: 'postgres',
  host: process.env.DB_HOST || 'localhost',
  port: parseInt(process.env.DB_PORT || '5432', 10),
  database: process.env.DB_NAME || 'rafiq_db',
  username: process.env.DB_USERNAME || 'rafiq_user',
  password: process.env.DB_PASSWORD || '',
  ssl: process.env.DB_SSL === 'true' ? { rejectUnauthorized: false } : false,
  entities: entities,
  migrations: ['src/database/migrations/*.ts'], // Ù…Ù„ÙØ§Øª .ts Ù„Ù„Ù€ CLI
  synchronize: false, // Ø£Ø¨Ø¯Ø§Ù‹ Ù„Ù„Ù€ CLI
  logging: process.env.DB_LOGGING === 'true',
};

/**
 * AppDataSource: Ù…Ø«ÙŠÙ„ DataSource Ù„Ù„Ù€ CLI
 *
 * Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * npx typeorm migration:generate src/database/migrations/MyMigration -d src/config/typeorm.config.ts
 */
export const AppDataSource = new DataSource(dataSourceOptions);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù…Ù„Ø®Øµ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
/**
 * ğŸ“š ÙƒÙŠÙ ØªØ³ØªØ®Ø¯Ù… Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù:
 *
 * 1ï¸âƒ£ ÙÙŠ AppModule (NestJS):
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * import { typeOrmConfig } from '@config/typeorm.config';
 *
 * @Module({
 *   imports: [
 *     TypeOrmModule.forRootAsync(typeOrmConfig),
 *   ],
 * })
 * export class AppModule {}
 *
 * 2ï¸âƒ£ ÙÙŠ Feature Modules:
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * import { TypeOrmModule } from '@nestjs/typeorm';
 * import { User } from '@database/entities';
 *
 * @Module({
 *   imports: [
 *     TypeOrmModule.forFeature([User]),
 *   ],
 * })
 * export class UsersModule {}
 *
 * 3ï¸âƒ£ ÙÙŠ Services:
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * import { InjectRepository } from '@nestjs/typeorm';
 * import { Repository } from 'typeorm';
 *
 * @Injectable()
 * export class UsersService {
 *   constructor(
 *     @InjectRepository(User)
 *     private readonly userRepository: Repository<User>,
 *   ) {}
 *
 *   async findAll() {
 *     return this.userRepository.find();
 *   }
 * }
 *
 * 4ï¸âƒ£ Ù„Ù„Ù€ Migrations (CLI):
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 * # Ø¥Ù†Ø´Ø§Ø¡ migration Ø¬Ø¯ÙŠØ¯Ø©
 * npm run migration:generate -- src/database/migrations/AddPhoneToUsers
 *
 * # ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù€ migrations
 * npm run migration:run
 *
 * # Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ø¢Ø®Ø± migration
 * npm run migration:revert
 */

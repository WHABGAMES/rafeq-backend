/**
 * â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
 * â•‘                    RAFIQ PLATFORM - Campaign Entity                            â•‘
 * â•‘                                                                                â•‘
 * â•‘  ğŸ“Œ Ù‡Ø°Ø§ Ø§Ù„Ù€ Entity ÙŠÙ…Ø«Ù„ Ø§Ù„Ø­Ù…Ù„Ø§Øª Ø§Ù„ØªØ³ÙˆÙŠÙ‚ÙŠØ©                                      â•‘
 * â•‘  Ø§Ù„Ø­Ù…Ù„Ø© = Ù…Ø¬Ù…ÙˆØ¹Ø© Ø±Ø³Ø§Ø¦Ù„ ØªÙØ±Ø³Ù„ Ù„Ø´Ø±ÙŠØ­Ø© Ù…Ø¹ÙŠÙ†Ø© Ù…Ù† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡                          â•‘
 * â•‘                                                                                â•‘
 * â•‘  Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø­Ù…Ù„Ø§Øª:                                                               â•‘
 * â•‘  - ÙÙˆØ±ÙŠØ© (One-time): ØªØ±Ø³Ù„ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙˆØ±Ø§Ù‹                                     â•‘
 * â•‘  - Ù…Ø¬Ø¯ÙˆÙ„Ø© (Scheduled): ØªØ±Ø³Ù„ ÙÙŠ ÙˆÙ‚Øª Ù…Ø­Ø¯Ø¯                                       â•‘
 * â•‘  - Ø¢Ù„ÙŠØ© (Automated/Trigger): ØªÙÙØ¹Ù‘Ù„ Ø¨Ø­Ø¯Ø« Ù…Ø¹ÙŠÙ†                                 â•‘
 * â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 */

import {
  Entity,
  Column,
  ManyToOne,
  Index,
  JoinColumn,
} from 'typeorm';
import { BaseEntity } from './base.entity';
import { Tenant } from './tenant.entity';
import { Store } from './store.entity';

/**
 * â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
 * â•‘                         ğŸ·ï¸ TYPES & ENUMS                                       â•‘
 * â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 */

/**
 * ğŸ“Œ CampaignType - Ù†ÙˆØ¹ Ø§Ù„Ø­Ù…Ù„Ø©
 */
export enum CampaignType {
  /** Ø­Ù…Ù„Ø© ÙÙˆØ±ÙŠØ© - ØªØ±Ø³Ù„ Ù…Ø¨Ø§Ø´Ø±Ø© */
  IMMEDIATE = 'immediate',
  /** Ø­Ù…Ù„Ø© Ù…Ø¬Ø¯ÙˆÙ„Ø© - ØªØ±Ø³Ù„ ÙÙŠ ÙˆÙ‚Øª Ù…Ø­Ø¯Ø¯ */
  SCHEDULED = 'scheduled',
  /** Ø­Ù…Ù„Ø© Ø¢Ù„ÙŠØ© - ØªÙÙØ¹Ù‘Ù„ Ø¨Ø­Ø¯Ø« */
  AUTOMATED = 'automated',
  /** Ø­Ù…Ù„Ø© Ù…ØªÙƒØ±Ø±Ø© - ØªØ±Ø³Ù„ Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ */
  RECURRING = 'recurring',
}

/**
 * ğŸ“Œ CampaignStatus - Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ù…Ù„Ø©
 */
export enum CampaignStatus {
  /** Ù…Ø³ÙˆØ¯Ø© - Ù„Ù… ØªÙÙØ¹Ù‘Ù„ Ø¨Ø¹Ø¯ */
  DRAFT = 'draft',
  /** Ù…Ø¬Ø¯ÙˆÙ„Ø© - ØªÙ†ØªØ¸Ø± ÙˆÙ‚Øª Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ */
  SCHEDULED = 'scheduled',
  /** Ù†Ø´Ø·Ø© - Ù‚ÙŠØ¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ */
  ACTIVE = 'active',
  /** Ù…ØªÙˆÙ‚ÙØ© Ù…Ø¤Ù‚ØªØ§Ù‹ */
  PAUSED = 'paused',
  /** Ù…ÙƒØªÙ…Ù„Ø© */
  COMPLETED = 'completed',
  /** Ù…Ù„ØºØ§Ø© */
  CANCELLED = 'cancelled',
  /** ÙØ´Ù„Øª */
  FAILED = 'failed',
}

/**
 * ğŸ“Œ CampaignChannel - Ù‚Ù†Ø§Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
 */
export enum CampaignChannel {
  WHATSAPP = 'whatsapp',
  SMS = 'sms',
  EMAIL = 'email',
  INSTAGRAM = 'instagram',
  DISCORD = 'discord',
}

/**
 * ğŸ“Œ TriggerType - Ù†ÙˆØ¹ Ø§Ù„Ù…ÙØ­ÙÙ‘Ø² (Ù„Ù„Ø­Ù…Ù„Ø§Øª Ø§Ù„Ø¢Ù„ÙŠØ©)
 */
export enum TriggerType {
  /** Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ */
  ORDER_CREATED = 'order_created',
  /** Ø¹Ù†Ø¯ Ø¯ÙØ¹ Ø§Ù„Ø·Ù„Ø¨ */
  ORDER_PAID = 'order_paid',
  /** Ø¹Ù†Ø¯ Ø´Ø­Ù† Ø§Ù„Ø·Ù„Ø¨ */
  ORDER_SHIPPED = 'order_shipped',
  /** Ø¹Ù†Ø¯ ØªÙˆØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨ */
  ORDER_DELIVERED = 'order_delivered',
  /** Ø¹Ù†Ø¯ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨ */
  ORDER_CANCELLED = 'order_cancelled',
  /** Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ */
  CUSTOMER_CREATED = 'customer_created',
  /** Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ Ø§Ù„Ø¹Ù…ÙŠÙ„ */
  CUSTOMER_BIRTHDAY = 'customer_birthday',
  /** Ø³Ù„Ø© Ù…ØªØ±ÙˆÙƒØ© */
  ABANDONED_CART = 'abandoned_cart',
  /** Ø¹Ø¯Ù… Ù†Ø´Ø§Ø· Ø§Ù„Ø¹Ù…ÙŠÙ„ */
  CUSTOMER_INACTIVE = 'customer_inactive',
  /** Ø¨Ø¹Ø¯ ÙØªØ±Ø© Ù…Ù† Ø¢Ø®Ø± Ø·Ù„Ø¨ */
  DAYS_AFTER_ORDER = 'days_after_order',
  /** ÙˆÙ‚Øª Ù…Ø­Ø¯Ø¯ ÙŠÙˆÙ…ÙŠØ§Ù‹ */
  DAILY_TIME = 'daily_time',
}

/**
 * ğŸ“Œ SegmentRule - Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø´Ø±ÙŠØ­Ø©
 */
export interface SegmentRule {
  /** Ø§Ù„Ø­Ù‚Ù„ */
  field: string;
  /** Ø§Ù„Ø¹Ù…Ù„ÙŠØ© */
  operator: 'equals' | 'not_equals' | 'greater_than' | 'less_than' | 'contains' | 'not_contains' | 'in' | 'not_in';
  /** Ø§Ù„Ù‚ÙŠÙ…Ø© */
  value: any;
}

/**
 * ğŸ“Œ AudienceFilter - ÙÙ„ØªØ± Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù
 */
export interface AudienceFilter {
  /** Ù†ÙˆØ¹ Ø§Ù„ÙÙ„ØªØ± */
  type: 'all' | 'segment' | 'tags' | 'custom';
  /** Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ØªØµÙÙŠØ© */
  rules?: SegmentRule[];
  /** Ø§Ù„ÙˆØ³ÙˆÙ… Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ© */
  tags?: string[];
  /** Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ© */
  segments?: string[];
  /** Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ø¹Ù…Ù„Ø§Ø¡ Ù…Ø¹ÙŠÙ†ÙŠÙ† */
  excludeCustomerIds?: string[];
  /** Ø´Ø±Ø· AND/OR Ø¨ÙŠÙ† Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ */
  condition?: 'and' | 'or';
}

/**
 * ğŸ“Œ MessageTemplate - Ù‚Ø§Ù„Ø¨ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
 */
export interface MessageTemplate {
  /** Ù…Ø¹Ø±Ù Ø§Ù„Ù‚Ø§Ù„Ø¨ (Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø­ÙÙˆØ¸) */
  templateId?: string;
  /** Ù†ÙˆØ¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø© */
  type: 'text' | 'image' | 'document' | 'template';
  /** Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø© */
  body: string;
  /** Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (Ù„Ù„Ù‚ÙˆØ§Ù„Ø¨) */
  header?: {
    type: 'text' | 'image' | 'document' | 'video';
    value: string;
  };
  /** Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
  buttons?: Array<{
    type: 'quick_reply' | 'url' | 'phone';
    text: string;
    value?: string;
  }>;
  /** Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© */
  mediaUrl?: string;
  /** Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù */
  filename?: string;
  /** Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© */
  variables?: string[];
}

/**
 * ğŸ“Œ TriggerConfig - Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙØ­ÙÙ‘Ø²
 */
export interface TriggerConfig {
  /** Ù†ÙˆØ¹ Ø§Ù„Ù…ÙØ­ÙÙ‘Ø² */
  type: TriggerType;
  /** Ø§Ù„ØªØ£Ø®ÙŠØ± Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ (Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚) */
  delayMinutes?: number;
  /** Ø´Ø±ÙˆØ· Ø¥Ø¶Ø§ÙÙŠØ© */
  conditions?: SegmentRule[];
  /** Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø³Ù…ÙˆØ­Ø© */
  allowedHours?: { start: number; end: number };
  /** Ø£ÙŠØ§Ù… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù…Ø³Ù…ÙˆØ­Ø© */
  allowedDays?: number[];
}

/**
 * ğŸ“Œ ScheduleConfig - Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø©
 */
export interface ScheduleConfig {
  /** ØªØ§Ø±ÙŠØ®/ÙˆÙ‚Øª Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ */
  sendAt?: string;
  /** Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© */
  timezone?: string;
  /** Ù„Ù„Ø­Ù…Ù„Ø§Øª Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©: Ù†ÙˆØ¹ Ø§Ù„ØªÙƒØ±Ø§Ø± */
  recurrence?: {
    type: 'daily' | 'weekly' | 'monthly';
    interval: number;
    daysOfWeek?: number[];
    dayOfMonth?: number;
    endDate?: string;
  };
}

/**
 * ğŸ“Œ CampaignStats - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø­Ù…Ù„Ø©
 */
export interface CampaignStats {
  /** Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙÙŠÙ† */
  totalTargeted: number;
  /** Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø±Ø³Ù„Ø© */
  sent: number;
  /** Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…ÙÙˆØµÙ‘Ù„Ø© */
  delivered: number;
  /** Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡Ø© */
  read: number;
  /** Ø§Ù„Ø±Ø¯ÙˆØ¯ */
  replied: number;
  /** Ø§Ù„ÙØ§Ø´Ù„Ø© */
  failed: number;
  /** Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ø¶ØºÙˆØ·Ø© */
  clicked: number;
  /** Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ */
  unsubscribed: number;
  /** ØªÙƒÙ„ÙØ© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */
  cost?: number;
}

/**
 * ğŸ“Œ CampaignMetadata - Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
 */
export interface CampaignMetadata {
  /** Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¯Ø§Ø®Ù„ÙŠØ© */
  notes?: string;
  /** Ø¢Ø®Ø± Ø®Ø·Ø£ */
  lastError?: string;
  /** Ø³Ø¬Ù„ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª */
  changelog?: Array<{
    action: string;
    timestamp: string;
    userId?: string;
  }>;
}

/**
 * â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
 * â•‘                         ğŸ—ƒï¸ CAMPAIGN ENTITY                                     â•‘
 * â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 */
@Entity('campaigns')
@Index(['tenantId', 'status'])
@Index(['tenantId', 'type'])
@Index(['tenantId', 'createdAt'])
@Index(['storeId', 'status'])
export class Campaign extends BaseEntity {
  /**
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *                              ğŸ”‘ IDENTIFIERS
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   */

  /**
   * ğŸ¢ Tenant ID - Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ£Ø¬Ø±
   */
  @Column({ name: 'tenant_id', type: 'uuid' })
  tenantId: string;

  /**
   * ğŸª Store ID - Ù…Ø¹Ø±Ù Ø§Ù„Ù…ØªØ¬Ø± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
   * 
   * Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø­Ù…Ù„Ø© Ù„Ù…ØªØ¬Ø± Ù…Ø­Ø¯Ø¯
   * null = ØªØ´Ù…Ù„ ÙƒÙ„ Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù€ tenant
   */
  @Column({ name: 'store_id', type: 'uuid', nullable: true })
  storeId?: string;

  /**
   * ğŸ‘¤ Created By - Ù…Ù†Ø´Ø¦ Ø§Ù„Ø­Ù…Ù„Ø©
   */
  @Column({ name: 'created_by', type: 'uuid', nullable: true })
  createdBy?: string;

  /**
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *                              ğŸ“ BASIC INFO
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   */

  /**
   * ğŸ“› Name - Ø§Ø³Ù… Ø§Ù„Ø­Ù…Ù„Ø©
   */
  @Column({
    type: 'varchar',
    length: 255,
    comment: 'Ø§Ø³Ù… Ø§Ù„Ø­Ù…Ù„Ø©',
  })
  name: string;

  /**
   * ğŸ“ Description - ÙˆØµÙ Ø§Ù„Ø­Ù…Ù„Ø©
   */
  @Column({
    type: 'text',
    nullable: true,
    comment: 'ÙˆØµÙ Ø§Ù„Ø­Ù…Ù„Ø©',
  })
  description?: string;

  /**
   * ğŸ“Š Type - Ù†ÙˆØ¹ Ø§Ù„Ø­Ù…Ù„Ø©
   */
  @Column({
    type: 'enum',
    enum: CampaignType,
    default: CampaignType.IMMEDIATE,
    comment: 'Ù†ÙˆØ¹ Ø§Ù„Ø­Ù…Ù„Ø©',
  })
  type: CampaignType;

  /**
   * ğŸš¦ Status - Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ù…Ù„Ø©
   */
  @Column({
    type: 'enum',
    enum: CampaignStatus,
    default: CampaignStatus.DRAFT,
    comment: 'Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ù…Ù„Ø©',
  })
  status: CampaignStatus;

  /**
   * ğŸ“± Channel - Ù‚Ù†Ø§Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
   */
  @Column({
    type: 'enum',
    enum: CampaignChannel,
    comment: 'Ù‚Ù†Ø§Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„',
  })
  channel: CampaignChannel;

  /**
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *                              ğŸ¯ TARGETING
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   */

  /**
   * ğŸ¯ Audience Filter - ÙÙ„ØªØ± Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±
   * 
   * ÙŠØ­Ø¯Ø¯ Ù…Ù† Ø³ÙŠØ³ØªÙ„Ù… Ø§Ù„Ø­Ù…Ù„Ø©
   */
  @Column({
    name: 'audience_filter',
    type: 'jsonb',
    nullable: true,
    comment: 'ÙÙ„ØªØ± Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù',
  })
  audienceFilter?: AudienceFilter;

  /**
   * ğŸ‘¥ Estimated Audience - Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠ
   * 
   * ÙŠÙØ­Ø³Ø¨ Ø¹Ù†Ø¯ Ø­ÙØ¸ Ø§Ù„Ø­Ù…Ù„Ø©
   */
  @Column({
    name: 'estimated_audience',
    type: 'integer',
    default: 0,
    comment: 'Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠ Ù„Ù„Ø¬Ù…Ù‡ÙˆØ±',
  })
  estimatedAudience: number;

  /**
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *                              ğŸ’¬ MESSAGE
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   */

  /**
   * ğŸ’¬ Message Template - Ù‚Ø§Ù„Ø¨ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
   */
  @Column({
    name: 'message_template',
    type: 'jsonb',
    comment: 'Ù‚Ø§Ù„Ø¨ Ø§Ù„Ø±Ø³Ø§Ù„Ø©',
  })
  messageTemplate: MessageTemplate;

  /**
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *                              â° SCHEDULING
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   */

  /**
   * â° Schedule Config - Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø©
   * 
   * Ù„Ù„Ø­Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø¬Ø¯ÙˆÙ„Ø© ÙˆØ§Ù„Ù…ØªÙƒØ±Ø±Ø©
   */
  @Column({
    name: 'schedule_config',
    type: 'jsonb',
    nullable: true,
    comment: 'Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø©',
  })
  scheduleConfig?: ScheduleConfig;

  /**
   * ğŸ“… Scheduled At - Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø¬Ø¯ÙˆÙ„
   */
  @Column({
    name: 'scheduled_at',
    type: 'timestamptz',
    nullable: true,
    comment: 'Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø¬Ø¯ÙˆÙ„',
  })
  scheduledAt?: Date;

  /**
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *                              ğŸ”” TRIGGERS
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   */

  /**
   * ğŸ”” Trigger Config - Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙØ­ÙÙ‘Ø²
   * 
   * Ù„Ù„Ø­Ù…Ù„Ø§Øª Ø§Ù„Ø¢Ù„ÙŠØ©
   */
  @Column({
    name: 'trigger_config',
    type: 'jsonb',
    nullable: true,
    comment: 'Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙØ­ÙÙ‘Ø² Ù„Ù„Ø­Ù…Ù„Ø§Øª Ø§Ù„Ø¢Ù„ÙŠØ©',
  })
  triggerConfig?: TriggerConfig;

  /**
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *                              ğŸ“Š STATS
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   */

  /**
   * ğŸ“Š Stats - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø­Ù…Ù„Ø©
   */
  @Column({
    type: 'jsonb',
    default: {
      totalTargeted: 0,
      sent: 0,
      delivered: 0,
      read: 0,
      replied: 0,
      failed: 0,
      clicked: 0,
      unsubscribed: 0,
    },
    comment: 'Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø­Ù…Ù„Ø©',
  })
  stats: CampaignStats;

  /**
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *                              ğŸ“… DATES
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   */

  /**
   * ğŸ“… Started At - ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø¡
   */
  @Column({
    name: 'started_at',
    type: 'timestamptz',
    nullable: true,
    comment: 'ØªØ§Ø±ÙŠØ® Ø¨Ø¯Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„',
  })
  startedAt?: Date;

  /**
   * ğŸ“… Completed At - ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§ÙƒØªÙ…Ø§Ù„
   */
  @Column({
    name: 'completed_at',
    type: 'timestamptz',
    nullable: true,
    comment: 'ØªØ§Ø±ÙŠØ® Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ø­Ù…Ù„Ø©',
  })
  completedAt?: Date;

  /**
   * ğŸ“… Last Run At - Ø¢Ø®Ø± ØªØ´ØºÙŠÙ„ (Ù„Ù„Ø­Ù…Ù„Ø§Øª Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©)
   */
  @Column({
    name: 'last_run_at',
    type: 'timestamptz',
    nullable: true,
    comment: 'ØªØ§Ø±ÙŠØ® Ø¢Ø®Ø± ØªØ´ØºÙŠÙ„',
  })
  lastRunAt?: Date;

  /**
   * ğŸ“… Next Run At - Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¯Ù… (Ù„Ù„Ø­Ù…Ù„Ø§Øª Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©)
   */
  @Column({
    name: 'next_run_at',
    type: 'timestamptz',
    nullable: true,
    comment: 'ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¯Ù…',
  })
  nextRunAt?: Date;

  /**
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *                              âš™ï¸ SETTINGS
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   */

  /**
   * ğŸ”¢ Rate Limit - Ø­Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
   * 
   * Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙÙŠ Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© (Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø­Ø¸Ø±)
   */
  @Column({
    name: 'rate_limit',
    type: 'integer',
    default: 30,
    comment: 'Ø­Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ ÙÙŠ Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©',
  })
  rateLimit: number;

  /**
   * â¹ï¸ Stop On Error - Ø§Ù„ØªÙˆÙ‚Ù Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø·Ø£
   */
  @Column({
    name: 'stop_on_error_threshold',
    type: 'integer',
    nullable: true,
    comment: 'Ø§Ù„ØªÙˆÙ‚Ù Ø¹Ù†Ø¯ ÙˆØµÙˆÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø¯Ø¯',
  })
  stopOnErrorThreshold?: number;

  /**
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *                              ğŸ“ METADATA
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   */

  /**
   * ğŸ“ Metadata
   */
  @Column({
    type: 'jsonb',
    nullable: true,
    default: {},
    comment: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©',
  })
  metadata: CampaignMetadata;

  /**
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *                              ğŸ”— RELATIONS
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   */

  @ManyToOne(() => Tenant, { onDelete: 'CASCADE' })
  @JoinColumn({ name: 'tenant_id' })
  tenant: Tenant;

  @ManyToOne(() => Store, { onDelete: 'CASCADE', nullable: true })
  @JoinColumn({ name: 'store_id' })
  store?: Store;
}

/**
 * â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
 * â•‘                         ğŸ“š CAMPAIGN FLOW                                       â•‘
 * â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
 * â•‘                                                                                â•‘
 * â•‘  ğŸ“¤ Ø§Ù„Ø­Ù…Ù„Ø© Ø§Ù„ÙÙˆØ±ÙŠØ© (IMMEDIATE):                                               â•‘
 * â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                               â•‘
 * â•‘                                                                                â•‘
 * â•‘  [Ø¥Ù†Ø´Ø§Ø¡] â†’ [ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±] â†’ [ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø©] â†’ [Ø¥Ø±Ø³Ø§Ù„ ÙÙˆØ±ÙŠ] â†’ [Ø§ÙƒØªÙ…Ø§Ù„]       â•‘
 * â•‘                                                                                â•‘
 * â•‘  â° Ø§Ù„Ø­Ù…Ù„Ø© Ø§Ù„Ù…Ø¬Ø¯ÙˆÙ„Ø© (SCHEDULED):                                              â•‘
 * â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                              â•‘
 * â•‘                                                                                â•‘
 * â•‘  [Ø¥Ù†Ø´Ø§Ø¡] â†’ [ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±] â†’ [ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙˆÙ‚Øª] â†’ [Ø§Ù†ØªØ¸Ø§Ø±] â†’ [Ø¥Ø±Ø³Ø§Ù„] â†’ [Ø§ÙƒØªÙ…Ø§Ù„]   â•‘
 * â•‘                                                                                â•‘
 * â•‘  ğŸ”„ Ø§Ù„Ø­Ù…Ù„Ø© Ø§Ù„Ø¢Ù„ÙŠØ© (AUTOMATED):                                                â•‘
 * â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                â•‘
 * â•‘                                                                                â•‘
 * â•‘  [Ø¥Ù†Ø´Ø§Ø¡] â†’ [ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙØ­ÙÙ‘Ø²] â†’ [ØªÙ†Ø´ÙŠØ·] â†’ [Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø­Ø¯Ø«] â†â”                      â•‘
 * â•‘                                          â†“             â”‚                      â•‘
 * â•‘                                    [Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø¹Ù…ÙŠÙ„] â”€â”€â”€â”€â”€â”˜                      â•‘
 * â•‘                                                                                â•‘
 * â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â•‘
 * â•‘                                                                                â•‘
 * â•‘  ğŸ“Š Ø­Ø³Ø§Ø¨ Ù†Ø³Ø¨ Ø§Ù„Ù†Ø¬Ø§Ø­:                                                          â•‘
 * â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                           â•‘
 * â•‘                                                                                â•‘
 * â•‘  - Delivery Rate = delivered / sent * 100                                     â•‘
 * â•‘  - Read Rate = read / delivered * 100                                         â•‘
 * â•‘  - Reply Rate = replied / read * 100                                          â•‘
 * â•‘  - Click Rate = clicked / read * 100                                          â•‘
 * â•‘  - Unsubscribe Rate = unsubscribed / sent * 100                               â•‘
 * â•‘                                                                                â•‘
 * â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 */
